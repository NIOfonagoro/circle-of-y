<div class="form-container form-signup">
  <div class="container mt-2">
    <div class="row ">
      <div class="col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1">

        <h2>Sign up</h2>
          <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
            <%= devise_error_messages! %>

            <div class="field form-group">
              <%= f.label :first_name %>
              <%= f.text_field :first_name, autofocus: true, autocomplete: "first_name", class: "form-control" %>
            </div>

            <div class="field form-group">
              <%= f.label :last_name %>
              <%= f.text_field :last_name, class:"form-control"%>
            </div>

            <!-- <div class="field form-group">
              <%= f.label :image %>
              <%= f.file_field :image, class:"form-control"%>
            </div> -->

            <div class="field form-group">
              <%= f.label :organisation %>
              <%= f.text_field :organisation, class:"form-control" %>
            </div>

            <div class="field form-group">
              <%= f.label 'Please select from your nearest chapter' %> <br>
              <%= grouped_collection_select(:user, :chapter_id, Country.all, :chapters, :name, :id, :city, prompt: 'Please choose a chapter') %>
            </div>

            <div class="field form-group">
              <input type="checkbox" data-toggle="collapse" data-target="#demo">  I'm not near any of these locations</input>
              <br>
              <div id="demo" class="collapse">
                <br>
                <div class="field">
                  <!-- Country -->
                  <select id="states-of-country" name="project[state]">
                    <option value="" selected="">Select Your Country</option>

                  </select>

                  <select id="cities-of-state" name="project[city]">
                    <option value="" selected="">Select Your City</option>
                  </select>

                  <script>
                  $('select[name="state"]').change(function () {
                    var input_state = $(this);
                    $.getJSON('/cities/' + $(this).val(), function (data) {
                      input_state.empty();
                      $.each(data, function (i) {
                        var opt = '<option value='+ i +'>' + i + '</option>';
                        input_state.append(opt);
                      });
                    });
                  });
                  </script>
                </div>
              </div>
            </div>

            <div class="field form-group">
              <%= f.label :email %><br />
              <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"form-control" %>
            </div>

            <div class="field form-group">
              <%= f.label :password %>
              <% if @minimum_password_length %>
                <em>(<%= @minimum_password_length %> characters minimum)</em>
              <% end %><br />
              <%= f.password_field :password, autocomplete: "off", class:"form-control" %>
            </div>

            <div class="field form-group">
              <%= f.label :password_confirmation %><br />
              <%= f.password_field :password_confirmation, autocomplete: "off", class:"form-control"%>
            </div>

            <div class="actions">
              <%= f.submit "Sign up", class:"btn btn-danger" %>
            </div>
          <% end %>

        <ul class="list-group devise-shared">
          <%= render "devise/shared/links" %>
        </ul>
      </div>
    </div>
  </div>
</div>
